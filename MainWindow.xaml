<Window x:Class="CaloriesTracker.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:CaloriesTracker"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        xmlns:lvc="clr-namespace:LiveChartsCore.SkiaSharpView.WPF;assembly=LiveChartsCore.SkiaSharpView.WPF"
        Title="Calories Tracker" Height="600" Width="800">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Input -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
            <DatePicker x:Name="datePicker" Width="120" Margin="0,0,5,0"
                        SelectedDate="{x:Static sys:DateTime.Today}"/>
            <TextBox x:Name="consumedBox" Width="80" Text="0" Margin="0,0,5,0"/>
            <TextBlock Text="Consumed" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <TextBox x:Name="burnedBox" Width="80" Text="0" Margin="0,0,5,0"/>
            <TextBlock Text="Burned" VerticalAlignment="Center" Margin="0,0,5,0"/>
            <TextBox x:Name="notesBox" Width="150" Margin="0,0,5,0"/>
            <Button Content="Add" Click="Add_Click" Padding="10,5"/>
        </StackPanel>

        <!-- Summary -->
        <TextBlock Grid.Row="1" x:Name="summaryText" FontWeight="Bold" Margin="0,0,0,10"/>

        <!-- LISTVIEW: FULLY FIXED -->
        <ListView Grid.Row="2" x:Name="entryList" Margin="0,0,0,10">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="Date"      DisplayMemberBinding="{Binding Date}"      Width="100"/>
                    <GridViewColumn Header="Consumed" DisplayMemberBinding="{Binding Consumed}" Width="100"/>
                    <GridViewColumn Header="Burned"   DisplayMemberBinding="{Binding Burned}"   Width="100"/>
                    <GridViewColumn Header="Net" Width="100">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Consumed, Converter={StaticResource NetConverter}}"
                                           Foreground="{Binding Consumed, Converter={StaticResource ColorConverter}}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <GridViewColumn Header="Notes" DisplayMemberBinding="{Binding Notes}" Width="180"/>
                    <GridViewColumn Width="50">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <Button Content="X" Click="Delete_Click" Tag="{Binding Id}"
                                        Background="IndianRed" Foreground="White"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>
            </ListView.View>
        </ListView>

        <!-- Chart Button -->
        <Button Grid.Row="3" Content="View Monthly Chart" Click="Chart_Click"
                HorizontalAlignment="Left" Padding="15,8"/>
    </Grid>
</Window>